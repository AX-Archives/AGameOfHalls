<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>AGoH - Launcher</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <div class="launcher">
    <h1>AGoH - Launcher</h1>
    <p class="description">
      AGoH, and related games, are mainly compiled by "AX-Archives". Any similar or related
      games will be compiled by any account named as so. In AGoH, you traverse halls and, 
      eventually, meet your fate.
    </p>

    <div class="content">
      <!-- Version Selector -->
      <div class="versions">
        <h2>Versions</h2>
        <ul id="versionList">
          <li>V1.03</li>
          <li>V1.02</li>
          <li>V1.01</li>
          <li>V1.00</li>
        </ul>
      </div>

      <!-- Description + Buttons -->
      <div class="info">
        <h2 id="versionTitle">Select a version</h2>
        <div class="buttons">
          <button id="playBtn" disabled>Play Selected Version</button>
          <a id="downloadBtn" class="download-btn disabled" href="#" download>Download Selected Version</a>
          <a href="https://ax-archives.github.io/" class="return-btn">Return to Homepage</a>
        </div>

        <!-- Update Log -->
        <div class="update-log">
          <h2>Update Log</h2>
          <ul>
            <li>V1.03 – Added two new items, Radar and Battery. Along with dialogue bug fix.</li>
            <li>V1.02 – Added a new floor.</li>
            <li>V1.01 – Added new final boss, along with speedrun button.</li>
            <li>V1.00 – Initial release.</li>
          </ul>
        </div>
      </div>
    </div>

    <!-- Game Frame -->
    <div class="game-container">
      <iframe id="gameFrame" src="" frameborder="0"></iframe>
    </div>
  </div>

  <script>
    const versionList = document.querySelectorAll("#versionList li");
    const playBtn = document.getElementById("playBtn");
    const downloadBtn = document.getElementById("downloadBtn");
    const gameFrame = document.getElementById("gameFrame");

    let selectedVersion = null;

    versionList.forEach(item => {
      item.addEventListener("click", () => {
        versionList.forEach(v => v.classList.remove("selected"));
        item.classList.add("selected");

        selectedVersion = item.textContent;

        // Enable buttons
        playBtn.disabled = false;
        downloadBtn.classList.remove("disabled");

        // Set download link
        downloadBtn.href = `AGoH (${selectedVersion}).html`;
        downloadBtn.setAttribute("download", `AGoH (${selectedVersion}).html`);
      });
    });

    playBtn.addEventListener("click", () => {
      if (selectedVersion) {
        gameFrame.src = `AGoH (${selectedVersion}).html`;
      }
    });

    // Toggle fullscreen on F10
    document.addEventListener("keydown", (e) => {
      if (e.code === "F10") {
        if (!document.fullscreenElement) {
          gameFrame.requestFullscreen();
        } else {
          document.exitFullscreen();
        }
      }
    });
  </script>
</body>
</html>
